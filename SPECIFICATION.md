# 仕様書ドラフト Part1

## 1. はじめに

### 1.1. 本書について

本書は、タスク管理アプリケーション「TaskFlow Hub」の機能仕様を定義するものです。開発チーム内での認識共有、および今後の機能拡張の基礎資料とすることを目的とします。

### 1.2. システム概要

TaskFlow Hubは、個人またはチームのタスク管理を支援するWebアプリケーションです。ユーザーはタスクの作成、編集、削除、状態管理などを行うことができ、カンバン形式またはリスト形式でタスクを視覚的に把握できます。サブタスクの管理やコメント機能により、タスクに関する詳細な情報共有とコミュニケーションを促進します。また、豊富なフィルタリング機能により、目的のタスクを効率的に見つけ出すことが可能です。

### 1.3. 対象読者

本書は以下の読者を対象としています。

*   TaskFlow Hub開発チームメンバー
*   プロジェクトマネージャー
*   QA（品質保証）担当者

### 1.4. 用語定義

| 用語        | 説明                                                                 | 例                                         |
| :---------- | :------------------------------------------------------------------- | :----------------------------------------- |
| タスク      | 作業の単位。プロジェクトや業務における具体的な行動項目。                 | 「新機能の企画書作成」「バグ修正A」           |
| サブタスク  | タスクに紐づく子タスク。タスクをより小さな作業単位に分割したもの。         | 「企画書構成案作成」「参考資料収集」         |
| ステータス  | タスクの進捗状況を示す区分。                                           | 未着手, 進行中, レビュー待ち, 完了           |
| 優先度      | タスクの重要度や緊急性を示す区分。                                     | 高, 中, 低                                 |
| 担当者      | そのタスクの実行責任者。                                               | 山田太郎, 鈴木一郎                           |
| 期限日      | タスクの完了目標日。                                                   | 2024-07-15                                 |
| カンバン表示 | タスクをステータスごとの列にカード形式で表示する形式。                   |                                            |
| リスト表示  | タスクを表形式で一覧表示する形式。                                     |                                            |
| 親タスク    | サブタスクを持つタスクのこと。                                           |                                            |
| コメント    | タスクに対して付与できる補足情報やコミュニケーションのためのメッセージ。 | 「この件、本日中に対応します」               |

## 2. 機能仕様

### 2.1. タスク管理機能

#### 2.1.1. タスク一覧表示 (カンバン形式)

*   **ユーザーへの提供価値**:
    *   タスク全体の進捗状況をステータスごとに視覚的に把握できます。
    *   ドラッグ＆ドロップによる直感的なステータス変更が可能です。
*   **操作**:
    *   各ステータスカラム（例: 未着手, 進行中, レビュー待ち, 完了）にタスクがカードとして表示されます。
    *   タスクカードを別のステータスカラムへドラッグ＆ドロップすることで、タスクのステータスを変更できます（メインタスクのみ）。
    *   タスクカード内のタスク名をクリックすると、タスク詳細モーダルが表示されます。
    *   タスクカード内の編集ボタンをクリックすると、タスク編集モーダルが表示されます。
    *   タスクカード内の削除ボタンをクリックすると、確認ダイアログ表示後、タスク（およびそのサブタスク）を削除できます。
    *   タスクカード内の複製ボタンをクリックすると、タスクが複製されます（ステータスは「未着手」、期限日はクリア）。
    *   サブタスクがある場合、メインタスクカード内にサブタスクの一覧がコンパクトに表示されます。
    *   サブタスクのチェックボックスをクリックすることで、サブタスクの完了/未完了を切り替えられます。
    *   サブタスクの編集・削除ボタンもカード内に表示されます。
*   **表示される主要な情報**:
    *   タスク名
    *   タスク説明（一部または省略表示の可能性あり）
    *   優先度（アイコンで表示）
    *   期限日 (例: 2024/07/15)
    *   担当者（アバターアイコンで表示）
    *   サブタスク一覧（サブタスク名、完了状態）

#### 2.1.2. タスク一覧表示 (リスト形式)

*   **ユーザーへの提供価値**:
    *   タスクを一覧性の高い表形式で確認でき、ソートや詳細情報の比較が容易です。
*   **操作**:
    *   タスクが表形式で一行ごとに表示されます。サブタスクは親タスクの下にインデントされて表示されます。
    *   タスク名をクリックすると、タスク詳細モーダルが表示されます。
    *   各行のアクションボタン（編集、削除、複製）により、それぞれの操作が可能です。
    *   サブタスク行のチェックボックスで、サブタスクの完了/未完了を切り替えられます。
*   **表示される主要な情報**:
    *   タスク名（サブタスクの場合はインデント表示とアイコンが付与される）
    *   タスク説明（メインタスクのみ、一部表示）
    *   担当者名
    *   期限日 (例: 2024/07/15)
    *   優先度（アイコンとテキストで表示）
    *   ステータス（ラベルで表示）
    *   アクションボタン（編集、削除、複製）

#### 2.1.3. タスク作成

*   **ユーザーへの提供価値**:
    *   新しいタスクやサブタスクをシステムに登録できます。
*   **操作**:
    *   「新しいタスクを作成」ボタン、またはタスク詳細モーダル内の「サブタスクを追加」ボタンをクリックすると、タスク作成（編集）モーダルが表示されます。
    *   モーダル内で以下の情報を入力/選択します。
        *   親タスク（サブタスクとして作成する場合に選択）
        *   タスク名 (必須)
        *   説明
        *   担当者
        *   期限日
        *   優先度 (デフォルト: 中)
        *   ステータス (デフォルト: 未着手)
    *   「タスクを作成」ボタンをクリックするとタスクが保存され、一覧に反映されます。
    *   「キャンセル」ボタンで作成を中止できます。
*   **表示される主要な情報**:
    *   上記入力/選択フォーム

#### 2.1.4. タスク編集

*   **ユーザーへの提供価値**:
    *   既存タスクの情報を最新の状態に更新できます。
*   **操作**:
    *   カンバン表示のタスクカードまたはリスト表示のタスク行にある編集ボタンをクリックすると、タスク作成（編集）モーダルが表示されます。
    *   モーダルには選択されたタスクの既存情報が入力された状態で表示されます。
    *   タスク作成時と同様の項目を編集できます。
        *   親タスクの変更も可能です（自身や自身の子孫タスクを親に設定することはできません）。
    *   「変更を保存」ボタンをクリックするとタスク情報が更新され、一覧に反映されます。
    *   「キャンセル」ボタンで編集を中止できます。
*   **表示される主要な情報**:
    *   上記入力/選択フォーム（既存情報が入力済み）

#### 2.1.5. タスク削除

*   **ユーザーへの提供価値**:
    *   不要になったタスクをシステムから削除できます。
*   **操作**:
    *   カンバン表示のタスクカードまたはリスト表示のタスク行にある削除ボタンをクリックします。
    *   確認ダイアログが表示され、「OK」を選択するとタスクが削除されます。
    *   タスクがメインタスクでサブタスクを持っている場合、サブタスクも一緒に削除される旨の確認メッセージが表示されます。
*   **表示される主要な情報**:
    *   削除確認メッセージ

#### 2.1.6. タスク複製

*   **ユーザーへの提供価値**:
    *   類似のタスクを効率的に作成できます。
*   **操作**:
    *   カンバン表示のタスクカードまたはリスト表示のタスク行にある複製ボタンをクリックします。
    *   元のタスク情報（コメント以外）を引き継いだ新しいタスクが作成されます。
    *   複製されたタスクの名前は「（元のタスク名） のコピー」となります。
    *   ステータスは「未着手」、期限日は空欄になります。
    *   親タスクが設定されていた場合、同じ親タスクを持つタスクとして複製されます。
*   **表示される主要な情報**:
    *   なし（操作後、一覧に複製されたタスクが追加される）

#### 2.1.7. タスク詳細表示

*   **ユーザーへの提供価値**:
    *   タスクに関するすべての情報を一箇所で確認でき、サブタスク管理やコメントの追加も行えます。
*   **操作**:
    *   カンバン表示またはリスト表示でタスク名をクリックすると、タスク詳細モーダルが表示されます。
    *   モーダルを閉じるボタン、またはモーダル外のエリアをクリックするとモーダルが閉じます。
    *   親タスクが設定されている場合、親タスク名がリンクとして表示され、クリックすると親タスクの詳細モーダルに遷移します。
*   **表示される主要な情報**:
    *   タスク名
    *   説明
    *   担当者
    *   期限日
    *   優先度（アイコンとテキスト）
    *   ステータス（ラベル）
    *   親タスクへのリンク（設定されている場合）
    *   サブタスク一覧（後述 2.2参照）
    *   コメント一覧（後述 2.3参照）
    *   コメント投稿フォーム

### 2.2. サブタスク管理機能

タスク詳細モーダル内、およびカンバン/リスト表示のメインタスクカード/行内で操作可能です。

#### 2.2.1. サブタスク作成

*   **ユーザーへの提供価値**:
    *   大きなタスクを具体的な作業ステップに分解し、管理しやすくします。
*   **操作**:
    *   タスク詳細モーダル内の「サブタスクを追加」ボタンをクリックします。
    *   タスク作成モーダルが表示され、親タスクが自動的に現在のタスクに設定された状態でサブタスクを作成できます。
    *   入力項目は通常のタスク作成時と同様です（タスク名、説明、担当者、期限日、優先度、ステータス）。
*   **表示される主要な情報**:
    *   タスク作成モーダル（親タスクが選択済み）

#### 2.2.2. サブタスク編集

*   **ユーザーへの提供価値**:
    *   サブタスクの情報を更新できます。
*   **操作**:
    *   タスク詳細モーダル内のサブタスク一覧にある編集ボタン、またはカンバン/リスト表示のサブタスク編集ボタンをクリックします。
    *   タスク編集モーダルが表示され、選択されたサブタスクの情報を編集できます。
*   **表示される主要な情報**:
    *   タスク編集モーダル（既存情報が入力済み）

#### 2.2.3. サブタスク削除

*   **ユーザーへの提供価値**:
    *   不要になったサブタスクを削除できます。
*   **操作**:
    *   タスク詳細モーダル内のサブタスク一覧にある削除ボタン、またはカンバン/リスト表示のサブタスク削除ボタンをクリックします。
    *   確認ダイアログが表示され、「OK」を選択するとサブタスクが削除されます。
*   **表示される主要な情報**:
    *   削除確認メッセージ

#### 2.2.4. サブタスク完了/未完了切り替え

*   **ユーザーへの提供価値**:
    *   サブタスクの進捗を手軽に更新できます。
*   **操作**:
    *   タスク詳細モーダル内のサブタスク一覧、カンバン表示のタスクカード内サブタスク、またはリスト表示のサブタスク行にあるチェックボックスをクリックします。
    *   クリックするごとに、サブタスクの完了状態 (isSubtaskComplete) と未完了状態が切り替わります。
    *   完了したサブタスクは、名前に取り消し線が表示されます。
*   **表示される主要な情報**:
    *   チェックボックス（チェック状態で完了/未完了を示す）
    *   サブタスク名（完了時は取り消し線）

### 2.3. コメント機能

タスク詳細モーダル内で操作可能です。

#### 2.3.1. コメント投稿

*   **ユーザーへの提供価値**:
    *   タスクに関する補足情報、質問、議論などを記録し、関係者と共有できます。
*   **操作**:
    *   タスク詳細モーダル内のコメント投稿フォームにコメント内容を入力します。
    *   「コメントを投稿」ボタンをクリックすると、コメントが追加されます。
    *   コメントは投稿者名（現在は固定で "現在のユーザー"）、投稿日時と共に表示されます。
*   **表示される主要な情報**:
    *   コメント入力エリア
    *   投稿ボタン

#### 2.3.2. コメント編集

*   **ユーザーへの提供価値**:
    *   投稿したコメントの内容を修正できます。
*   **操作**:
    *   自身が投稿したコメントに表示される編集ボタンをクリックします。
    *   コメント表示が編集エリアに切り替わり、テキストエリアで内容を編集できます。
    *   「保存」ボタンで変更を保存、「キャンセル」ボタンで編集を破棄します。
*   **表示される主要な情報**:
    *   編集対象コメントのテキストエリア
    *   保存ボタン、キャンセルボタン

#### 2.3.3. コメント削除

*   **ユーザーへの提供価値**:
    *   誤った情報や不要になったコメントを削除できます。
*   **操作**:
    *   自身が投稿したコメントに表示される削除ボタンをクリックします。
    *   確認ダイアログが表示され、「OK」を選択するとコメントが削除されます。
*   **表示される主要な情報**:
    *   削除確認メッセージ

### 2.4. フィルタリング機能

メイン画面上部のフィルターセクションで操作します。フィルター条件を変更すると、カンバン表示およびリスト表示の内容が即座に更新されます。

#### 2.4.1. キーワード検索

*   **ユーザーへの提供価値**:
    *   タスク名または説明に特定のキーワードを含むタスクを検索できます。
*   **操作**:
    *   「キーワード検索」入力フィールドに検索したい文字列を入力します。入力するたびにリアルタイムで絞り込みが行われます。
*   **表示される主要な情報**:
    *   キーワード入力フィールド

#### 2.4.2. 担当者フィルタ

*   **ユーザーへの提供価値**:
    *   特定の担当者が割り当てられているタスクのみを表示できます。
*   **操作**:
    *   「担当者」ドロップダウンリストから担当者を選択します。「すべて」を選択すると担当者での絞り込みは行われません。
*   **表示される主要な情報**:
    *   担当者選択ドロップダウンリスト

#### 2.4.3. 優先度フィルタ

*   **ユーザーへの提供価値**:
    *   特定の優先度が設定されているタスクのみを表示できます。
*   **操作**:
    *   「優先度」ドロップダウンリストから優先度（高、中、低）を選択します。「すべて」を選択すると優先度での絞り込みは行われません。
*   **表示される主要な情報**:
    *   優先度選択ドロップダウンリスト

#### 2.4.4. ステータスフィルタ

*   **ユーザーへの提供価値**:
    *   特定のステータスにあるタスクのみを表示できます。
*   **操作**:
    *   「ステータス」ドロップダウンリストからステータス（未着手, 進行中, レビュー待ち, 完了）を選択します。「すべて」を選択するとステータスでの絞り込みは行われません。
*   **表示される主要な情報**:
    *   ステータス選択ドロップダウンリスト

#### 2.4.5. 期限日フィルタ

*   **ユーザーへの提供価値**:
    *   期限日に基づいてタスクを絞り込めます（例: 今日が期限、期限切れなど）。
*   **操作**:
    *   「期限日」ドロップダウンリストから条件（すべて, 今日が期限, 明日が期限, 今週が期限, 期限切れ）を選択します。
*   **表示される主要な情報**:
    *   期限日フィルタ選択ドロップダウンリスト

### 2.5. 表示切り替え機能

#### 2.5.1. カンバン表示とリスト表示の切り替え

*   **ユーザーへの提供価値**:
    *   タスクの確認や管理の目的に応じて、最適な表示形式を選択できます。
*   **操作**:
    *   「カンバン表示」ボタンと「リスト表示」ボタンが画面上部に配置されています。
    *   いずれかのボタンをクリックすると、表示形式が切り替わります。
    *   現在選択されている表示形式のボタンは、アクティブな状態（スタイルが強調）で表示されます。
*   **表示される主要な情報**:
    *   「カンバン表示」ボタン
    *   「リスト表示」ボタン

# 仕様書ドラフト Part2

## 3. 画面仕様

### 3.1. メイン画面

TaskFlow Hubのメイン画面は、ユーザーがタスクを一覧表示し、管理するための主要なインターフェースです。

#### 3.1.1. ヘッダー (`<header class="sticky-header">`)

*   **目的**: アプリケーションのタイトルを表示し、基本的なナビゲーション（現在はユーザーアイコンのみ）を提供します。画面上部に固定表示されます。
*   **表示情報**:
    *   アプリケーションタイトル: 「TaskFlow Hub」 (h1要素)
    *   ユーザーアイコン (Font Awesome の `fa-user-circle`)
*   **主要UIコンポーネント**:
    *   ユーザーアイコンボタン: クリック時の具体的なアクションは現バージョンでは未定義。

#### 3.1.2. フィルターエリア (`<div class="filter-section">`)

*   **目的**: 表示されるタスクを様々な条件で絞り込むためのコントロールを提供します。
*   **表示情報**:
    *   各フィルターコントロールのラベル (キーワード検索, 担当者, 優先度, ステータス, 期限日)
*   **主要UIコンポーネント**:
    *   キーワード検索入力フィールド (`<input type="text" id="searchInput">`): タスク名、説明に含まれる文字列で検索します。
    *   担当者ドロップダウン (`<select id="filterAssignee">`): 担当者を選択してフィルタリングします。
    *   優先度ドロップダウン (`<select id="filterPriority">`): 優先度（高, 中, 低）を選択してフィルタリングします。
    *   ステータスドロップダウン (`<select id="filterStatus">`): ステータスを選択してフィルタリングします。
    *   期限日ドロップダウン (`<select id="filterDueDate">`): 期限日の条件（今日が期限, 明日が期限など）を選択してフィルタリングします。
    *   クリアボタン (`<button id="clearFiltersBtn">`): 全てのフィルター条件をリセットします。

#### 3.1.3. 表示切り替えタブ

*   **目的**: タスクの表示形式をカンバン形式とリスト形式で切り替えるためのタブを提供します。
*   **表示情報**:
    *   各表示形式の名称とアイコン。
*   **主要UIコンポーネント**:
    *   カンバン表示ボタン (`<button id="showKanbanBtn">`): カンバン形式でタスクを表示します。Font Awesome の `fa-columns` アイコンが表示されます。
    *   リスト表示ボタン (`<button id="showListBtn">`): リスト形式でタスクを表示します。Font Awesome の `fa-list-ul` アイコンが表示されます。
    *   アクティブな表示形式のボタンはスタイルが強調されます（`active` クラス）。

#### 3.1.4. タスク作成ボタン (`<button id="openTaskModalBtn">`)

*   **目的**: 新しいタスクを作成するためのモーダルを開きます。
*   **表示情報**:
    *   ボタンテキスト: 「新しいタスクを作成」
    *   アイコン: Font Awesome の `fa-plus` アイコン。
*   **主要UIコンポーネント**:
    *   上記ボタン自体。

#### 3.1.5. カンバンビューエリア (`<div id="kanbanView">`)

*   **目的**: タスクをステータスごとのカラムにカードとして表示します（カンバン形式）。
*   **表示情報**:
    *   ステータスカラム (`<div class="kanban-column" data-status="ステータス名">`): 各ステータス（未着手, 進行中, レビュー待ち, 完了）に対応するカラム。
    *   カラムヘッダー: ステータス名。
    *   タスクカード (`<div class="task-card draggable-card" data-task-id="タスクID">`): 各タスクの情報（タスク名、説明、優先度、期限日、担当者アバター、サブタスク一覧など）を表示します。メインタスクはドラッグ＆ドロップでステータス変更が可能です。
    *   タスクカード内のアクションボタン（複製、編集、削除）。
    *   サブタスク表示エリア（チェックボックス、サブタスク名、編集・削除ボタン）。
*   **主要UIコンポーネント**:
    *   各タスクカード、カラム。
    *   タスクカード内の各種ボタン、サブタスクのチェックボックス。

#### 3.1.6. リストビューエリア (`<div id="listView">`)

*   **目的**: タスクを表形式で一覧表示します。
*   **表示情報**:
    *   テーブルヘッダー (`<thead>`): 各列のタイトル（タスク名, 担当者, 期限日, 優先度, ステータス, アクション）。
    *   タスク行 (`<tbody> <tr class="hover:bg-gray-50">`): 各タスクの情報を1行で表示します。サブタスクはインデントされて表示されます。
    *   表示項目: タスク名（サブタスクの場合はインデントとアイコン）、説明（メインタスクのみ）、担当者、期限日、優先度（アイコンとテキスト）、ステータス（ラベル）。
    *   アクション列 (`<td>`): 編集、削除、複製ボタン。
    *   サブタスク行には完了状態を示すチェックボックスが表示されます。
*   **主要UIコンポーネント**:
    *   タスク情報を表示するテーブル (`<table>`)。
    *   各タスク行のアクションボタン、サブタスクのチェックボックス。

### 3.2. タスク作成・編集モーダル (`<div id="taskModal">`)

*   **目的**: 新規タスクの作成、または既存タスクの編集を行います。
*   **表示情報**:
    *   モーダルタイトル (`<h2 id="modalTitle">`): 「新しいタスクを作成」または「タスクを編集」。
    *   フォームの各入力フィールドのラベル。
    *   タスク名入力フィールドには必須マーク (`<span class="text-red-500">*</span>`)。
    *   タスク名エラーメッセージ (`<p id="taskNameError">`) はバリデーション失敗時に表示。
*   **主要UIコンポーネント**:
    *   閉じるボタン (`<button id="closeTaskModalBtn">`): モーダルを閉じます。
    *   タスクID（非表示） (`<input type="hidden" id="taskId">`): 編集時にタスクIDを保持します。
    *   親タスク選択ドロップダウン (`<select id="taskParent">`): サブタスクとして作成する場合に親タスクを選択します。
    *   タスク名入力フィールド (`<input type="text" id="taskName">`): タスクの名前を入力します（必須）。
    *   説明テキストエリア (`<textarea id="taskDescription">`): タスクの詳細な説明を入力します。
    *   担当者選択ドロップダウン (`<select id="taskAssignee">`): タスクの担当者を選択します。
    *   期限日入力フィールド (`<input type="date" id="taskDueDate">`): タスクの期限日を設定します。
    *   優先度選択ドロップダウン (`<select id="taskPriority">`): 優先度（低, 中, 高）を選択します。
    *   ステータス選択ドロップダウン (`<select id="taskStatusModal">`): タスクのステータスを選択します。
    *   キャンセルボタン (`<button id="cancelTaskBtn">`): 操作をキャンセルしてモーダルを閉じます。
    *   保存ボタン (`<button id="saveTaskBtn">`): 「タスクを作成」または「変更を保存」のテキストが表示され、タスクを保存します。

### 3.3. タスク詳細モーダル (`<div id="taskDetailModal">`)

*   **目的**: タスクの詳細情報を表示し、サブタスクの管理やコメントの閲覧・投稿を行います。
*   **表示情報**:
    *   タスク名 (`<h2 id="taskDetailName">`)
    *   タスク説明 (`<span id="taskDetailDescription">`)
    *   担当者 (`<span id="taskDetailAssignee">`)
    *   期限日 (`<span id="taskDetailDueDate">`)
    *   優先度 (`<span id="taskDetailPriority">`) (アイコンとテキスト)
    *   ステータス (`<span id="taskDetailStatus">`) (ラベル)
    *   親タスクへのリンク (`<div id="parentTaskLinkContainer">`, `<a id="parentTaskLink">`): 親タスクが存在する場合に表示。
    *   サブタスクセクション (`<div id="subtaskDetailContainer">`):
        *   サブタスク一覧: 各サブタスクの名前、完了チェックボックス、編集・削除ボタン。
        *   サブタスクがない場合はその旨のメッセージ。
    *   コメントセクション (`<div id="commentsContainer">`):
        *   コメント一覧: 各コメントの投稿者名、投稿日時、内容、編集・削除ボタン（自分のコメントの場合）。
        *   コメントがない場合はその旨のメッセージ。
*   **主要UIコンポーネント**:
    *   閉じるボタン (`<button id="closeTaskDetailModalBtn">`): モーダルを閉じます。
    *   サブタスク追加ボタン (`<button id="openAddSubtaskModalBtn">`): サブタスク作成モーダルを開きます。
    *   サブタスクの完了チェックボックス、編集ボタン、削除ボタン。
    *   コメント投稿フォーム (`<form id="commentForm">`):
        *   コメント内容入力エリア (`<textarea id="commentContent">`)
        *   コメント投稿ボタン
    *   コメントの編集ボタン、削除ボタン。

## 4. データ仕様

アプリケーション内で扱われる主要なデータ構造について定義します。

### 4.1. タスクオブジェクト

JavaScript内の `tasks` 配列に格納されるオブジェクトで、個々のタスク（メインタスクまたはサブタスク）を表します。

| プロパティ          | データ型        | 説明                                                                 | 例                                                              |
| :------------------ | :-------------- | :------------------------------------------------------------------- | :-------------------------------------------------------------- |
| `id`                | Number          | タスクの一意な識別子。通常は `Date.now()` で生成。                       | `1678886400000`                                                 |
| `name`              | String          | タスクの名称。                                                         | 「TaskFlow Hubの機能改善」                                        |
| `description`       | String          | タスクの詳細な説明。空の場合あり。                                       | 「ユーザーインターフェースの調整と新機能の検討を行う。」           |
| `assignee`          | String          | タスクの担当者名。空文字列の場合は「未割り当て」。                       | 「山田太郎」                                                      |
| `dueDate`           | String          | タスクの期限日。`YYYY-MM-DD` 形式の文字列。空の場合あり。                | 「2025-05-30」                                                  |
| `priority`          | String          | タスクの優先度。「high」（高）、「medium」（中）、「low」（低）のいずれか。 | 「high」                                                        |
| `status`            | String          | タスクのステータス。`STATUSES` 配列内の値のいずれか。                  | 「進行中」                                                      |
| `comments`          | Array           | このタスクに紐づくコメントオブジェクトの配列。初期は空配列の場合あり。   | `[{id: ..., taskId: ..., userName: ..., content: ..., createdAt: ...}]` |
| `parentId`          | Number / `null` | 親タスクのID。メインタスクの場合は `null`。                            | `1678886300000` または `null`                                   |
| `isSubtaskComplete` | Boolean         | サブタスクの場合、その完了状態を示すフラグ。メインタスクでは通常 `false`。 | `true` または `false`                                           |

### 4.2. コメントオブジェクト

タスクオブジェクトの `comments` プロパティに格納されるオブジェクトで、個々のコメントを表します。

| プロパティ    | データ型 | 説明                                           | 例                                     |
| :------------ | :------- | :--------------------------------------------- | :------------------------------------- |
| `id`          | Number   | コメントの一意な識別子。`Date.now()` で生成。    | `1678886400101`                        |
| `taskId`      | Number   | このコメントが紐づくタスクのID。               | `1678886400000`                        |
| `userName`    | String   | コメント投稿者の名前。現在は固定値 "現在のユーザー"。 | 「現在のユーザー」 または 「佐藤花子」 |
| `content`     | String   | コメントの内容。                                 | 「UIの配色案をいくつか提案します。」      |
| `createdAt`   | String   | コメントの作成日時。ISO 8601形式の文字列。     | 「2023-03-15T10:00:00.000Z」           |
| `updatedAt`   | String   | コメントの最終更新日時（編集時に設定）。ISO 8601形式。 | 「2023-03-15T11:00:00.000Z」           |

### 4.3. ステータス定義

タスクが取りうるステータスは、JavaScript内の `STATUSES` 定数配列で定義されています。

*   `STATUSES = ['未着手', '進行中', 'レビュー待ち', '完了']`
    これらの値がタスクオブジェクトの `status` プロパティに設定されます。カンバンビューのカラムやフィルタリングオプションとしても使用されます。

### 4.4. 優先度定義

タスクの優先度は、以下の3段階で管理されます。

*   **高 (`high`)**
*   **中 (`medium`)**
*   **低 (`low`)**

これらの値がタスクオブジェクトの `priority` プロパティに設定されます。タスク作成・編集モーダルでは、`<select id="taskPriority">` で選択され、デフォルトは「中」(`medium`)が選択されています。フィルタードロップダウン (`<select id="filterPriority">`) でも使用されます。

### 4.5. 担当者リスト (初期値)

アプリケーションで初期に選択可能な担当者は、JavaScript内の `ALL_ASSIGNEES` 定数配列で定義されています。

*   `ALL_ASSIGNEES = ['山田太郎', '鈴木一郎', '佐藤花子', '田中次郎']`
    これらの名前が、タスク作成・編集モーダルの担当者選択ドロップダウン (`<select id="taskAssignee">`) およびフィルターの担当者ドロップダウン (`<select id="filterAssignee">`) の選択肢として提供されます。

## 5. 非機能要件 (補足)

### 5.1. 使用技術スタック

*   **フロントエンドUI**:
    *   **Tailwind CSS**: UIコンポーネントのスタイリングにユーティリティファーストのCSSフレームワークであるTailwind CSSを使用しています。(`https://cdn.tailwindcss.com`)
    *   **Font Awesome**: アイコン表示のためにFont Awesomeを使用しています。(`https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css`)
*   **フロントエンドロジック**:
    *   **JavaScript (バニラJS)**: アプリケーションの動的な振る舞いやデータ操作は、特定の外部ライブラリやフレームワーク（例: React, Vue, Angular）に依存しない、標準のJavaScriptで記述されています。
*   **フォント**:
    *   Interフォントファミリー (`font-family: 'Inter', sans-serif;`) が指定されていますが、CDN等からの明示的な読み込み指定は `index.html` 内には見当たりません。ブラウザのデフォルトまたはローカルインストールされたフォントに依存する可能性があります。

### 5.2. データ永続性について (現状の制約)

*   現在のバージョンでは、タスクやコメントなどのデータは、**ブラウザのメモリ上（JavaScriptの `tasks` 配列内）でのみ管理**されています。
*   `localStorage`、`sessionStorage`、またはサーバーサイドのデータベースへの保存処理は実装されていません。
*   そのため、ユーザーがブラウザの**ページをリロードしたり、ブラウザを閉じたりすると、作成・編集・削除したタスクやコメントの情報はすべて失われ、初期状態に戻ります**。

### 5.3. 初期データ

アプリケーションの起動時には、デモンストレーションおよび動作確認用として、以下の初期タスクデータがJavaScriptの `tasks` 配列に設定されています。

*   **タスク1**:
    *   `id`: `Date.now() + 1` (動的に生成)
    *   `name`: 'TaskFlow Hubの機能改善'
    *   `description`: 'ユーザーインターフェースの調整と新機能の検討を行う。'
    *   `assignee`: '山田太郎'
    *   `dueDate`: '2025-05-30'
    *   `priority`: 'high'
    *   `status`: '進行中'
    *   `parentId`: `null`
    *   `isSubtaskComplete`: `false`
    *   `comments`:
        *   コメント1:
            *   `id`: `Date.now() + 101` (動的に生成)
            *   `taskId`: (タスク1のIDと一致)
            *   `userName`: "佐藤花子"
            *   `content`: "UIの配色案をいくつか提案します。"
            *   `createdAt`: (実行時の24時間前の日時)
        *   コメント2:
            *   `id`: `Date.now() + 102` (動的に生成)
            *   `taskId`: (タスク1のIDと一致)
            *   `userName`: "現在のユーザー" (固定値 `CURRENT_USER_NAME`)
            *   `content`: "ありがとうございます。確認します。"
            *   `createdAt`: (実行時の日時)

この初期データにより、ユーザーはアプリケーション起動直後から基本的な機能を確認できます。
