# 仕様書ドラフト Part1

## 1. はじめに

### 1.1. 本書について

本書は、タスク管理アプリケーション「TaskFlow Hub」の機能仕様を定義するものです。開発チーム内での認識共有、および今後の機能拡張の基礎資料とすることを目的とします。

### 1.2. システム概要

TaskFlow Hubは、個人またはチームのタスク管理を支援するWebアプリケーションです。ユーザーはタスクの作成、編集、削除、状態管理などを行うことができ、カンバン形式またはリスト形式でタスクを視覚的に把握できます。サブタスクの管理やコメント機能により、タスクに関する詳細な情報共有とコミュニケーションを促進します。また、豊富なフィルタリング機能により、目的のタスクを効率的に見つけ出すことが可能です。

### 1.3. 対象読者

本書は以下の読者を対象としています。

*   TaskFlow Hub開発チームメンバー
*   プロジェクトマネージャー
*   QA（品質保証）担当者

### 1.4. 用語定義

| 用語        | 説明                                                                 | 例                                         |
| :---------- | :------------------------------------------------------------------- | :----------------------------------------- |
| タスク      | 作業の単位。プロジェクトや業務における具体的な行動項目。                 | 「新機能の企画書作成」「バグ修正A」           |
| サブタスク  | タスクに紐づく子タスク。タスクをより小さな作業単位に分割したもの。         | 「企画書構成案作成」「参考資料収集」         |
| ステータス  | タスクの進捗状況を示す区分。                                           | 未着手, 進行中, レビュー待ち, 完了           |
| 優先度      | タスクの重要度や緊急性を示す区分。                                     | 高, 中, 低                                 |
| 担当者      | そのタスクの実行責任者。                                               | 山田太郎, 鈴木一郎                           |
| 期限日      | タスクの完了目標日。                                                   | 2024-07-15                                 |
| カンバン表示 | タスクをステータスごとの列にカード形式で表示する形式。                   |                                            |
| リスト表示  | タスクを表形式で一覧表示する形式。                                     |                                            |
| 親タスク    | サブタスクを持つタスクのこと。                                           |                                            |
| コメント    | タスクに対して付与できる補足情報やコミュニケーションのためのメッセージ。 | 「この件、本日中に対応します」               |

## 2. 機能仕様

### 2.1. タスク管理機能

#### 2.1.1. タスク一覧表示 (カンバン形式)

*   **ユーザーへの提供価値**:
    *   タスク全体の進捗状況をステータスごとに視覚的に把握できます。
    *   ドラッグ＆ドロップによる直感的なステータス変更が可能です。
*   **操作**:
    *   各ステータスカラム（例: 未着手, 進行中, レビュー待ち, 完了）にタスクがカードとして表示されます。
    *   タスクカードを別のステータスカラムへドラッグ＆ドロップすることで、タスクのステータスを変更できます（メインタスクのみ）。
    *   タスクカード内のタスク名をクリックすると、タスク詳細モーダルが表示されます。
    *   タスクカード内の編集ボタンをクリックすると、タスク編集モーダルが表示されます。
    *   タスクカード内の削除ボタンをクリックすると、確認ダイアログ表示後、タスク（およびそのサブタスク）を削除できます。
    *   タスクカード内の複製ボタンをクリックすると、タスクが複製されます（ステータスは「未着手」、期限日はクリア）。
    *   サブタスクがある場合、メインタスクカード内にサブタスクの一覧がコンパクトに表示されます。
    *   サブタスクのチェックボックスをクリックすることで、サブタスクの完了/未完了を切り替えられます。
    *   サブタスクの編集・削除ボタンもカード内に表示されます。
*   **表示される主要な情報**:
    *   タスク名
    *   タスク説明（一部または省略表示の可能性あり）
    *   優先度（アイコンで表示）
    *   期限日 (例: 2024/07/15)
    *   担当者（アバターアイコンで表示）
    *   サブタスク一覧（サブタスク名、完了状態）

#### 2.1.2. タスク一覧表示 (リスト形式)

*   **ユーザーへの提供価値**:
    *   タスクを一覧性の高い表形式で確認でき、ソートや詳細情報の比較が容易です。
*   **操作**:
    *   タスクが表形式で一行ごとに表示されます。サブタスクは親タスクの下にインデントされて表示されます。
    *   タスク名をクリックすると、タスク詳細モーダルが表示されます。
    *   各行のアクションボタン（編集、削除、複製）により、それぞれの操作が可能です。
    *   サブタスク行のチェックボックスで、サブタスクの完了/未完了を切り替えられます。
*   **表示される主要な情報**:
    *   タスク名（サブタスクの場合はインデント表示とアイコンが付与される）
    *   タスク説明（メインタスクのみ、一部表示）
    *   担当者名
    *   期限日 (例: 2024/07/15)
    *   優先度（アイコンとテキストで表示）
    *   ステータス（ラベルで表示）
    *   アクションボタン（編集、削除、複製）

#### 2.1.3. タスク作成

*   **ユーザーへの提供価値**:
    *   新しいタスクやサブタスクをシステムに登録できます。
*   **操作**:
    *   「新しいタスクを作成」ボタン、またはタスク詳細モーダル内の「サブタスクを追加」ボタンをクリックすると、タスク作成（編集）モーダルが表示されます。
    *   モーダル内で以下の情報を入力/選択します。
        *   親タスク（サブタスクとして作成する場合に選択）
        *   タスク名 (必須)
        *   説明
        *   担当者
        *   期限日
        *   優先度 (デフォルト: 中)
        *   ステータス (デフォルト: 未着手)
    *   「タスクを作成」ボタンをクリックするとタスクが保存され、一覧に反映されます。
    *   「キャンセル」ボタンで作成を中止できます。
*   **表示される主要な情報**:
    *   上記入力/選択フォーム

#### 2.1.4. タスク編集

*   **ユーザーへの提供価値**:
    *   既存タスクの情報を最新の状態に更新できます。
*   **操作**:
    *   カンバン表示のタスクカードまたはリスト表示のタスク行にある編集ボタンをクリックすると、タスク作成（編集）モーダルが表示されます。
    *   モーダルには選択されたタスクの既存情報が入力された状態で表示されます。
    *   タスク作成時と同様の項目を編集できます。
        *   親タスクの変更も可能です（自身や自身の子孫タスクを親に設定することはできません）。
    *   「変更を保存」ボタンをクリックするとタスク情報が更新され、一覧に反映されます。
    *   「キャンセル」ボタンで編集を中止できます。
*   **表示される主要な情報**:
    *   上記入力/選択フォーム（既存情報が入力済み）

#### 2.1.5. タスク削除

*   **ユーザーへの提供価値**:
    *   不要になったタスクをシステムから削除できます。
*   **操作**:
    *   カンバン表示のタスクカードまたはリスト表示のタスク行にある削除ボタンをクリックします。
    *   確認ダイアログが表示され、「OK」を選択するとタスクが削除されます。
    *   タスクがメインタスクでサブタスクを持っている場合、サブタスクも一緒に削除される旨の確認メッセージが表示されます。
*   **表示される主要な情報**:
    *   削除確認メッセージ

#### 2.1.6. タスク複製

*   **ユーザーへの提供価値**:
    *   類似のタスクを効率的に作成できます。
*   **操作**:
    *   カンバン表示のタスクカードまたはリスト表示のタスク行にある複製ボタンをクリックします。
    *   元のタスク情報（コメント以外）を引き継いだ新しいタスクが作成されます。
    *   複製されたタスクの名前は「（元のタスク名） のコピー」となります。
    *   ステータスは「未着手」、期限日は空欄になります。
    *   親タスクが設定されていた場合、同じ親タスクを持つタスクとして複製されます。
*   **表示される主要な情報**:
    *   なし（操作後、一覧に複製されたタスクが追加される）

#### 2.1.7. タスク詳細表示

*   **ユーザーへの提供価値**:
    *   タスクに関するすべての情報を一箇所で確認でき、サブタスク管理やコメントの追加も行えます。
*   **操作**:
    *   カンバン表示またはリスト表示でタスク名をクリックすると、タスク詳細モーダルが表示されます。
    *   モーダルを閉じるボタン、またはモーダル外のエリアをクリックするとモーダルが閉じます。
    *   親タスクが設定されている場合、親タスク名がリンクとして表示され、クリックすると親タスクの詳細モーダルに遷移します。
*   **表示される主要な情報**:
    *   タスク名
    *   説明
    *   担当者
    *   期限日
    *   優先度（アイコンとテキスト）
    *   ステータス（ラベル）
    *   親タスクへのリンク（設定されている場合）
    *   サブタスク一覧（後述 2.2参照）
    *   コメント一覧（後述 2.3参照）
    *   コメント投稿フォーム

### 2.2. サブタスク管理機能

タスク詳細モーダル内、およびカンバン/リスト表示のメインタスクカード/行内で操作可能です。

#### 2.2.1. サブタスク作成

*   **ユーザーへの提供価値**:
    *   大きなタスクを具体的な作業ステップに分解し、管理しやすくします。
*   **操作**:
    *   タスク詳細モーダル内の「サブタスクを追加」ボタンをクリックします。
    *   タスク作成モーダルが表示され、親タスクが自動的に現在のタスクに設定された状態でサブタスクを作成できます。
    *   入力項目は通常のタスク作成時と同様です（タスク名、説明、担当者、期限日、優先度、ステータス）。
*   **表示される主要な情報**:
    *   タスク作成モーダル（親タスクが選択済み）

#### 2.2.2. サブタスク編集

*   **ユーザーへの提供価値**:
    *   サブタスクの情報を更新できます。
*   **操作**:
    *   タスク詳細モーダル内のサブタスク一覧にある編集ボタン、またはカンバン/リスト表示のサブタスク編集ボタンをクリックします。
    *   タスク編集モーダルが表示され、選択されたサブタスクの情報を編集できます。
*   **表示される主要な情報**:
    *   タスク編集モーダル（既存情報が入力済み）

#### 2.2.3. サブタスク削除

*   **ユーザーへの提供価値**:
    *   不要になったサブタスクを削除できます。
*   **操作**:
    *   タスク詳細モーダル内のサブタスク一覧にある削除ボタン、またはカンバン/リスト表示のサブタスク削除ボタンをクリックします。
    *   確認ダイアログが表示され、「OK」を選択するとサブタスクが削除されます。
*   **表示される主要な情報**:
    *   削除確認メッセージ

#### 2.2.4. サブタスク完了/未完了切り替え

*   **ユーザーへの提供価値**:
    *   サブタスクの進捗を手軽に更新できます。
*   **操作**:
    *   タスク詳細モーダル内のサブタスク一覧、カンバン表示のタスクカード内サブタスク、またはリスト表示のサブタスク行にあるチェックボックスをクリックします。
    *   クリックするごとに、サブタスクの完了状態 (isSubtaskComplete) と未完了状態が切り替わります。
    *   完了したサブタスクは、名前に取り消し線が表示されます。
*   **表示される主要な情報**:
    *   チェックボックス（チェック状態で完了/未完了を示す）
    *   サブタスク名（完了時は取り消し線）

### 2.3. コメント機能

タスク詳細モーダル内で操作可能です。

#### 2.3.1. コメント投稿

*   **ユーザーへの提供価値**:
    *   タスクに関する補足情報、質問、議論などを記録し、関係者と共有できます。
*   **操作**:
    *   タスク詳細モーダル内のコメント投稿フォームにコメント内容を入力します。
    *   「コメントを投稿」ボタンをクリックすると、コメントが追加されます。
    *   コメントは投稿者名（現在は固定で "現在のユーザー"）、投稿日時と共に表示されます。
*   **表示される主要な情報**:
    *   コメント入力エリア
    *   投稿ボタン

#### 2.3.2. コメント編集

*   **ユーザーへの提供価値**:
    *   投稿したコメントの内容を修正できます。
*   **操作**:
    *   自身が投稿したコメントに表示される編集ボタンをクリックします。
    *   コメント表示が編集エリアに切り替わり、テキストエリアで内容を編集できます。
    *   「保存」ボタンで変更を保存、「キャンセル」ボタンで編集を破棄します。
*   **表示される主要な情報**:
    *   編集対象コメントのテキストエリア
    *   保存ボタン、キャンセルボタン

#### 2.3.3. コメント削除

*   **ユーザーへの提供価値**:
    *   誤った情報や不要になったコメントを削除できます。
*   **操作**:
    *   自身が投稿したコメントに表示される削除ボタンをクリックします。
    *   確認ダイアログが表示され、「OK」を選択するとコメントが削除されます。
*   **表示される主要な情報**:
    *   削除確認メッセージ

### 2.4. フィルタリング機能

メイン画面上部のフィルターセクションで操作します。フィルター条件を変更すると、カンバン表示およびリスト表示の内容が即座に更新されます。

#### 2.4.1. キーワード検索

*   **ユーザーへの提供価値**:
    *   タスク名または説明に特定のキーワードを含むタスクを検索できます。
*   **操作**:
    *   「キーワード検索」入力フィールドに検索したい文字列を入力します。入力するたびにリアルタイムで絞り込みが行われます。
*   **表示される主要な情報**:
    *   キーワード入力フィールド

#### 2.4.2. 担当者フィルタ

*   **ユーザーへの提供価値**:
    *   特定の担当者が割り当てられているタスクのみを表示できます。
*   **操作**:
    *   「担当者」ドロップダウンリストから担当者を選択します。「すべて」を選択すると担当者での絞り込みは行われません。
*   **表示される主要な情報**:
    *   担当者選択ドロップダウンリスト

#### 2.4.3. 優先度フィルタ

*   **ユーザーへの提供価値**:
    *   特定の優先度が設定されているタスクのみを表示できます。
*   **操作**:
    *   「優先度」ドロップダウンリストから優先度（高、中、低）を選択します。「すべて」を選択すると優先度での絞り込みは行われません。
*   **表示される主要な情報**:
    *   優先度選択ドロップダウンリスト

#### 2.4.4. ステータスフィルタ

*   **ユーザーへの提供価値**:
    *   特定のステータスにあるタスクのみを表示できます。
*   **操作**:
    *   「ステータス」ドロップダウンリストからステータス（未着手, 進行中, レビュー待ち, 完了）を選択します。「すべて」を選択するとステータスでの絞り込みは行われません。
*   **表示される主要な情報**:
    *   ステータス選択ドロップダウンリスト

#### 2.4.5. 期限日フィルタ

*   **ユーザーへの提供価値**:
    *   期限日に基づいてタスクを絞り込めます（例: 今日が期限、期限切れなど）。
*   **操作**:
    *   「期限日」ドロップダウンリストから条件（すべて, 今日が期限, 明日が期限, 今週が期限, 期限切れ）を選択します。
*   **表示される主要な情報**:
    *   期限日フィルタ選択ドロップダウンリスト

### 2.5. 表示切り替え機能

#### 2.5.1. カンバン表示とリスト表示の切り替え

*   **ユーザーへの提供価値**:
    *   タスクの確認や管理の目的に応じて、最適な表示形式を選択できます。
*   **操作**:
    *   「カンバン表示」ボタンと「リスト表示」ボタンが画面上部に配置されています。
    *   いずれかのボタンをクリックすると、表示形式が切り替わります。
    *   現在選択されている表示形式のボタンは、アクティブな状態（スタイルが強調）で表示されます。
*   **表示される主要な情報**:
    *   「カンバン表示」ボタン
    *   「リスト表示」ボタン
